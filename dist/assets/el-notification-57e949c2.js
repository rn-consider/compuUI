import{x as e,y as t,z as o,d as s,A as n,r as a,B as l,C as i,v as r,D as u,o as c,i as p,w as f,F as d,f as m,n as v,a as y,G as g,H as h,I as C,J as b,t as x,K as k,c as S,L as I,M as L,N as T,e as _,h as E,O as H,P as M,Q as w,R as B,S as N,U as z,V as $,W as j,X as A,Y as F}from"./index-f8a8023c.js";const O=["success","info","warning","error"],U=e({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:t},id:{type:String,default:""},message:{type:o([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:o(Function),default:()=>{}},onClose:{type:o(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...O,""],default:""},zIndex:Number}),W=["id"],q=["textContent"],D={key:0},Z=["innerHTML"],G=s({name:"ElNotification"});var J=H(s({...G,props:U,emits:{destroy:()=>!0},setup(e,{expose:t}){const o=e,{ns:s,zIndex:H}=n("notification"),{nextZIndex:N,currentZIndex:z}=H,{Close:$}=M,j=a(!1);let A;const F=l((()=>{const e=o.type;return e&&i[o.type]?s.m(e):""})),O=l((()=>o.type&&i[o.type]||o.icon)),U=l((()=>o.position.endsWith("right")?"right":"left")),G=l((()=>o.position.startsWith("top")?"top":"bottom")),J=l((()=>{var e;return{[G.value]:`${o.offset}px`,zIndex:null!=(e=o.zIndex)?e:z.value}}));function K(){o.duration>0&&({stop:A}=w((()=>{j.value&&Q()}),o.duration))}function P(){null==A||A()}function Q(){j.value=!1}return r((()=>{K(),N(),j.value=!0})),u(document,"keydown",(function({code:e}){e===B.delete||e===B.backspace?P():e===B.esc?j.value&&Q():K()})),t({visible:j,close:Q}),(e,t)=>(c(),p(E,{name:y(s).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[1]||(t[1]=t=>e.$emit("destroy")),persisted:""},{default:f((()=>[d(m("div",{id:e.id,class:v([y(s).b(),e.customClass,y(U)]),style:g(y(J)),role:"alert",onMouseenter:P,onMouseleave:K,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[y(O)?(c(),p(y(h),{key:0,class:v([y(s).e("icon"),y(F)])},{default:f((()=>[(c(),p(C(y(O))))])),_:1},8,["class"])):b("v-if",!0),m("div",{class:v(y(s).e("group"))},[m("h2",{class:v(y(s).e("title")),textContent:x(e.title)},null,10,q),d(m("div",{class:v(y(s).e("content")),style:g(e.title?void 0:{margin:0})},[k(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(c(),S(I,{key:1},[b(" Caution here, message could've been compromised, never use user's input as message "),m("p",{innerHTML:e.message},null,8,Z)],2112)):(c(),S("p",D,x(e.message),1))]))],6),[[L,e.message]]),e.showClose?(c(),p(y(h),{key:0,class:v(y(s).e("closeBtn")),onClick:T(Q,["stop"])},{default:f((()=>[_(y($))])),_:1},8,["class","onClick"])):b("v-if",!0)],2)],46,W),[[L,j.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const K={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let P=1;const Q=function(e={},t=null){if(!N)return{close:()=>{}};("string"==typeof e||z(e))&&(e={message:e});const o=e.position||"top-right";let s=e.offset||0;K[o].forEach((({vm:e})=>{var t;s+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+16})),s+=16;const n="notification_"+P++,a=e.onClose,l={...e,offset:s,id:n,onClose:()=>{!function(e,t,o){const s=K[t],n=s.findIndex((({vm:t})=>{var o;return(null==(o=t.component)?void 0:o.props.id)===e}));if(-1===n)return;const{vm:a}=s[n];if(!a)return;null==o||o(a);const l=a.el.offsetHeight,i=t.split("-")[0];s.splice(n,1);const r=s.length;if(r<1)return;for(let u=n;u<r;u++){const{el:e,component:t}=s[u].vm,o=Number.parseInt(e.style[i],10)-l-16;t.props.offset=o}}(n,o,a)}};let i=document.body;$(e.appendTo)?i=e.appendTo:j(e.appendTo)&&(i=document.querySelector(e.appendTo)),$(i)||(i=document.body);const r=document.createElement("div"),u=_(J,l,z(l.message)?{default:()=>l.message}:null);return u.appContext=null!=t?t:Q._context,u.props.onDestroy=()=>{A(null,r)},A(u,r),K[o].push({vm:u}),i.appendChild(r.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};O.forEach((e=>{Q[e]=(t={})=>(("string"==typeof t||z(t))&&(t={message:t}),Q({...t,type:e}))})),Q.closeAll=function(){for(const e of Object.values(K))e.forEach((({vm:e})=>{e.component.exposed.visible.value=!1}))},Q._context=null;const R=F(Q,"$notify");export{R as E};
